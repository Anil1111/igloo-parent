@mixin make-container-gutters($length, $direction:"") {
	padding#{$direction}: ($length / 2);
	
	> .row {
		margin#{$direction}: -1 * ($length / 2);
		
		> .col,
		> [class*="col-"] {
			padding#{$direction}: ($length / 2);
		}
	}
	
	> .row + .row {
		margin-top: ($length / 2);
	}
}

@mixin make-flex-gutters($abbrev, $length, $direction:"") {
	margin#{$direction}: -1 * ($length / 2);
	
	.flex-item {
		margin#{$direction}: ($length / 2);
	}
}

@each $breakpoint in map-keys($grid-breakpoints) {
	@include media-breakpoint-up($breakpoint) {
		$infix: breakpoint-infix($breakpoint, $grid-breakpoints);
		$abbrev: container-g;
		
		@each $size, $length in $grid-gutter-widths {
			.#{$abbrev}#{$infix}-#{$size} {
				@include make-container-gutters($length);
			}
			.#{$abbrev}t#{$infix}-#{$size},
			.#{$abbrev}y#{$infix}-#{$size} {
				@include make-container-gutters($length, "-top");
			}
			.#{$abbrev}r#{$infix}-#{$size},
			.#{$abbrev}x#{$infix}-#{$size} {
				@include make-container-gutters($length, "-right");
			}
			.#{$abbrev}b#{$infix}-#{$size},
			.#{$abbrev}y#{$infix}-#{$size} {
				@include make-container-gutters($length, "-bottom");
			}
			.#{$abbrev}l#{$infix}-#{$size},
			.#{$abbrev}x#{$infix}-#{$size} {
				@include make-container-gutters($length, "-left");
			}
		}
	}
}

@each $breakpoint in map-keys($grid-breakpoints) {
	@include media-breakpoint-up($breakpoint) {
		$infix: breakpoint-infix($breakpoint, $grid-breakpoints);
		$abbrev: flex-g;
		
		@each $size, $length in $grid-gutter-widths {
			.#{$abbrev}#{$infix}-#{$size} {
				@include make-flex-gutters($abbrev, $length);
			}
			.#{$abbrev}t#{$infix}-#{$size},
			.#{$abbrev}y#{$infix}-#{$size} {
				@include make-flex-gutters($abbrev, $length, "-top");
			}
			.#{$abbrev}r#{$infix}-#{$size},
			.#{$abbrev}x#{$infix}-#{$size} {
				@include make-flex-gutters($abbrev, $length, "-right");
			}
			.#{$abbrev}b#{$infix}-#{$size},
			.#{$abbrev}y#{$infix}-#{$size} {
				@include make-flex-gutters($abbrev, $length, "-bottom");
			}
			.#{$abbrev}l#{$infix}-#{$size},
			.#{$abbrev}x#{$infix}-#{$size} {
				@include make-flex-gutters($abbrev, $length, "-left");
			}
		}
	}
}
